{"ast":null,"code":"\"use strict\";\n\nfunction transmitter() {\n  var subscriptions = [];\n  var nowDispatching = false;\n  var toUnsubscribe = {};\n\n  var unsubscribe = function unsubscribe(onChange) {\n    var id = subscriptions.indexOf(onChange);\n    if (id < 0) return;\n\n    if (nowDispatching) {\n      toUnsubscribe[id] = onChange;\n      return;\n    }\n\n    subscriptions.splice(id, 1);\n  };\n\n  var subscribe = function subscribe(onChange) {\n    var id = subscriptions.push(onChange);\n\n    var dispose = function dispose() {\n      return unsubscribe(onChange);\n    };\n\n    return {\n      dispose: dispose\n    };\n  };\n\n  var publish = function publish() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    nowDispatching = true;\n\n    try {\n      subscriptions.forEach(function (subscription, id) {\n        return toUnsubscribe[id] || subscription.apply(undefined, args);\n      });\n    } finally {\n      nowDispatching = false;\n      Object.keys(toUnsubscribe).forEach(function (id) {\n        return unsubscribe(toUnsubscribe[id]);\n      });\n      toUnsubscribe = {};\n    }\n  };\n\n  return {\n    publish: publish,\n    subscribe: subscribe,\n    $subscriptions: subscriptions\n  };\n}\n\nmodule.exports = transmitter;","map":{"version":3,"sources":["D:/Projects/W_e_e_b/my-app/node_modules/transmitter/dist/transmitter.js"],"names":["transmitter","subscriptions","nowDispatching","toUnsubscribe","unsubscribe","onChange","id","indexOf","splice","subscribe","push","dispose","publish","_len","arguments","length","args","Array","_key","forEach","subscription","apply","undefined","Object","keys","$subscriptions","module","exports"],"mappings":"AAAA;;AAEA,SAASA,WAAT,GAAuB;AACrB,MAAIC,aAAa,GAAG,EAApB;AACA,MAAIC,cAAc,GAAG,KAArB;AACA,MAAIC,aAAa,GAAG,EAApB;;AAEA,MAAIC,WAAW,GAAG,SAASA,WAAT,CAAqBC,QAArB,EAA+B;AAC/C,QAAIC,EAAE,GAAGL,aAAa,CAACM,OAAd,CAAsBF,QAAtB,CAAT;AACA,QAAIC,EAAE,GAAG,CAAT,EAAY;;AACZ,QAAIJ,cAAJ,EAAoB;AAClBC,MAAAA,aAAa,CAACG,EAAD,CAAb,GAAoBD,QAApB;AACA;AACD;;AACDJ,IAAAA,aAAa,CAACO,MAAd,CAAqBF,EAArB,EAAyB,CAAzB;AACD,GARD;;AAUA,MAAIG,SAAS,GAAG,SAASA,SAAT,CAAmBJ,QAAnB,EAA6B;AAC3C,QAAIC,EAAE,GAAGL,aAAa,CAACS,IAAd,CAAmBL,QAAnB,CAAT;;AACA,QAAIM,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,aAAOP,WAAW,CAACC,QAAD,CAAlB;AACD,KAFD;;AAGA,WAAO;AAAEM,MAAAA,OAAO,EAAEA;AAAX,KAAP;AACD,GAND;;AAQA,MAAIC,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAD,CAAzC,EAAiDK,IAAI,GAAG,CAA7D,EAAgEA,IAAI,GAAGL,IAAvE,EAA6EK,IAAI,EAAjF,EAAqF;AACnFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDhB,IAAAA,cAAc,GAAG,IAAjB;;AACA,QAAI;AACFD,MAAAA,aAAa,CAACkB,OAAd,CAAsB,UAAUC,YAAV,EAAwBd,EAAxB,EAA4B;AAChD,eAAOH,aAAa,CAACG,EAAD,CAAb,IAAqBc,YAAY,CAACC,KAAb,CAAmBC,SAAnB,EAA8BN,IAA9B,CAA5B;AACD,OAFD;AAGD,KAJD,SAIU;AACRd,MAAAA,cAAc,GAAG,KAAjB;AACAqB,MAAAA,MAAM,CAACC,IAAP,CAAYrB,aAAZ,EAA2BgB,OAA3B,CAAmC,UAAUb,EAAV,EAAc;AAC/C,eAAOF,WAAW,CAACD,aAAa,CAACG,EAAD,CAAd,CAAlB;AACD,OAFD;AAGAH,MAAAA,aAAa,GAAG,EAAhB;AACD;AACF,GAjBD;;AAmBA,SAAO;AACLS,IAAAA,OAAO,EAAEA,OADJ;AAELH,IAAAA,SAAS,EAAEA,SAFN;AAGLgB,IAAAA,cAAc,EAAExB;AAHX,GAAP;AAKD;;AAEDyB,MAAM,CAACC,OAAP,GAAiB3B,WAAjB","sourcesContent":["\"use strict\";\n\nfunction transmitter() {\n  var subscriptions = [];\n  var nowDispatching = false;\n  var toUnsubscribe = {};\n\n  var unsubscribe = function unsubscribe(onChange) {\n    var id = subscriptions.indexOf(onChange);\n    if (id < 0) return;\n    if (nowDispatching) {\n      toUnsubscribe[id] = onChange;\n      return;\n    }\n    subscriptions.splice(id, 1);\n  };\n\n  var subscribe = function subscribe(onChange) {\n    var id = subscriptions.push(onChange);\n    var dispose = function dispose() {\n      return unsubscribe(onChange);\n    };\n    return { dispose: dispose };\n  };\n\n  var publish = function publish() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    nowDispatching = true;\n    try {\n      subscriptions.forEach(function (subscription, id) {\n        return toUnsubscribe[id] || subscription.apply(undefined, args);\n      });\n    } finally {\n      nowDispatching = false;\n      Object.keys(toUnsubscribe).forEach(function (id) {\n        return unsubscribe(toUnsubscribe[id]);\n      });\n      toUnsubscribe = {};\n    }\n  };\n\n  return {\n    publish: publish,\n    subscribe: subscribe,\n    $subscriptions: subscriptions\n  };\n}\n\nmodule.exports = transmitter;"]},"metadata":{},"sourceType":"script"}